# ChangeLog for LuatOS@ABCDEFG

## V1103

tag: v0007.ec618.v1103
date: 2023-02-06

**注意：因socket接口返回值与之前不兼容，特此版本号由v1002升至v1103以作提醒**

**此版本已完整支持Air780EG**

1. 新增: 支持ipv6，需调用mobile.ipv6开启，默认不开启，前提开卡时需要支持ipv6 （对此有什么应用场景的好点子可以和我们反馈呦）
2. 新增: 支持ftp
3. 新增: 支持fskv
4. 新增: libfota.lua封装库，fota更简单
5. 新增: mobile 添加IP_LOSE消息
6. 新增: mobile允许开机优先使用SIM0
7. 新增: lbsLoc.lua封装库，基站定位更简单
8. 新增: sms库支持清理长短信片段 sms.clearLong()
9. 新增: http添加超时参数
10. 新增: 添加rtc.timezone函数
11. 新增: 录音功能
12. 新增: sms库支持禁用长短信的自动合并
13. 新增: i2s回调和异步接收功能
14. 新增: 添加mlx90614驱动
15. 新增: 添加新的ram文件系统
16. 新增: pm.lastReson()更详细的开机原因可用
17. 新增: 支持gtfont
18. 新增: 支持用户自定义APN并激活使用
19. 优化: 485等待发送完成
20. 优化: USB虚拟串口单次发送长度不再限制512
21. 优化: SPI底层驱动优化，启用DMA
22. 优化: I2C底层驱动优化
23. 优化: UART底层驱动优化
24. 优化: 调整iotauth库的代码,使其不使用静态内存，调整默认时间戳，修正输出秘钥长度
25. 修改: GPIO14/15 映射到PAD 13/14的ALT 4, 从而避免与UART0冲突
26. 修改:socket接口规范返回值（与之前版本不兼容，重要！！！！！）
27. 修复: udp接收会有内存泄露
28. 修复: http库未支持自定义Host
29. 修复: sntp自定义地址table处理异常
30. 修复: fota只更新脚本且很小时候有概率失败
31. 修复: sms库在修正多条长短信合并时判断错误
32. 修复: sms库连续收到多条长短信,且顺序混乱时,短信内容合并错误 
33. 修复: 虚拟UART的rx回调
34. 修复: mqtt库在publish消息时,若qos=0,返回的pkgid不合理,应该固定为0
35. 修复: UDP接收数据不全
36. 修复: rtc库未正确实现
37. 修复: http chunk编码异常

**core_V1103.zip** 就是固件文件, 其余两个是底层源码,无需下载.
** Air780EG测试定位效果_搭配公众号文章.zip** 是用于测Air780EG定位效果的

